<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merci !</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0066FF;
            --secondary: #00D4FF;
            --accent: #FFD700;
            --dark: #0A0E27;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--dark);
            color: white;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Full-screen video */
        .video-bg {
            position: absolute;
            inset: 0;
            z-index: 1;
        }

        .video-bg video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Gradient overlay â€” stronger at bottom for ticker */
        .overlay {
            position: absolute;
            inset: 0;
            z-index: 2;
            background: linear-gradient(
                to bottom,
                rgba(10, 14, 39, 0.3) 0%,
                rgba(10, 14, 39, 0.05) 40%,
                rgba(10, 14, 39, 0.05) 55%,
                rgba(10, 14, 39, 0.7) 80%,
                rgba(10, 14, 39, 0.85) 100%
            );
        }

        /* Particles */
        #particle-canvas {
            position: absolute;
            inset: 0;
            z-index: 3;
            opacity: 0.18;
            pointer-events: none;
        }

        /* Neon border frame */
        .neon-frame {
            position: absolute;
            inset: 12px;
            z-index: 4;
            border: 2px solid rgba(0, 212, 255, 0.35);
            border-radius: 18px;
            box-shadow:
                inset 0 0 30px rgba(0, 212, 255, 0.08),
                0 0 40px rgba(0, 212, 255, 0.15);
            pointer-events: none;
            animation: framePulse 3s ease-in-out infinite;
        }

        @keyframes framePulse {
            0%, 100% { border-color: rgba(0,212,255,0.35); box-shadow: inset 0 0 30px rgba(0,212,255,0.08), 0 0 40px rgba(0,212,255,0.15); }
            50% { border-color: rgba(0,212,255,0.6); box-shadow: inset 0 0 40px rgba(0,212,255,0.15), 0 0 60px rgba(0,212,255,0.3); }
        }

        /* Confetti layer */
        .confetti-layer {
            position: absolute;
            inset: 0;
            z-index: 5;
            pointer-events: none;
        }

        /* â”€â”€ TV NEWS TICKER â”€â”€ */
        .ticker-wrap {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 6;
            animation: tickerIn 0.8s ease both;
            animation-delay: 0.5s;
        }

        @keyframes tickerIn {
            from { opacity: 0; transform: translateY(100%); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Top accent bar */
        .ticker-accent {
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent), var(--secondary), var(--primary));
            background-size: 200% 100%;
            animation: accentSlide 3s linear infinite;
        }

        @keyframes accentSlide {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
        }

        /* Label + ticker row */
        .ticker-bar {
            display: flex;
            align-items: stretch;
            background: rgba(5, 8, 28, 0.92);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(0, 212, 255, 0.3);
            height: 52px;
            overflow: hidden;
        }

        .ticker-label {
            flex-shrink: 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 1.2rem;
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            white-space: nowrap;
            gap: 0.4rem;
            position: relative;
            z-index: 1;
        }

        /* Angled right edge of label */
        .ticker-label::after {
            content: '';
            position: absolute;
            right: -14px;
            top: 0;
            bottom: 0;
            width: 28px;
            background: linear-gradient(135deg, var(--secondary) 50%, transparent 50%);
            z-index: 2;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #ff3b3b;
            border-radius: 50%;
            animation: liveBlink 1s ease-in-out infinite;
            flex-shrink: 0;
        }

        @keyframes liveBlink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.2; }
        }

        .ticker-track {
            flex: 1;
            overflow: hidden;
            display: flex;
            align-items: center;
            padding-left: 2rem;
            position: relative;
        }

        .ticker-text {
            white-space: nowrap;
            display: inline-block;
            font-size: clamp(0.82rem, 2vw, 1rem);
            font-weight: 600;
            letter-spacing: 0.04em;
            color: white;
            animation: tickerScroll 22s linear infinite;
        }

        .ticker-text .highlight {
            color: var(--accent);
            font-weight: 700;
        }

        .ticker-text .separator {
            color: var(--secondary);
            margin: 0 1.5rem;
            opacity: 0.6;
        }

        @keyframes tickerScroll {
            0%   { transform: translateX(100vw); }
            100% { transform: translateX(-100%); }
        }

        /* Replay */
        .replay-link {
            position: absolute;
            top: 1.2rem;
            right: 1.8rem;
            z-index: 7;
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: white;
            text-decoration: none;
            padding: 0.55rem 1.4rem;
            border: 2px solid rgba(0, 212, 255, 0.7);
            border-radius: 40px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 0 18px rgba(0, 212, 255, 0.3);
            animation: replayPulse 2.5s ease-in-out infinite, fadeInBtn 1s ease both;
            animation-delay: 0s, 1.5s;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .replay-link:hover {
            transform: scale(1.08);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.6);
            border-color: var(--secondary);
        }

        .replay-icon {
            display: inline-block;
            animation: spin 3s linear infinite;
        }

        @keyframes spin {
            0%   { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes replayPulse {
            0%, 100% {
                box-shadow: 0 0 18px rgba(0, 212, 255, 0.3);
                border-color: rgba(0, 212, 255, 0.7);
            }
            50% {
                box-shadow: 0 0 35px rgba(0, 212, 255, 0.7), 0 0 60px rgba(0, 102, 255, 0.3);
                border-color: var(--secondary);
            }
        }

        @keyframes fadeInBtn {
            from { opacity: 0; transform: translateY(-10px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        @keyframes confetti-fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @media (max-width: 480px) {
            .ticker-bar { height: 44px; }
            .ticker-label { padding: 0 0.8rem; font-size: 0.62rem; }
            .ticker-text { font-size: 0.78rem; }
            .neon-frame { inset: 6px; }
        }
    </style>
</head>
<body>

    <!-- Full-screen video via Google Drive direct link -->
    <div class="video-bg">
        <video
            id="main-video"
            autoplay
            playsinline
            controls
            style="width:100%;height:100%;object-fit:cover;display:block;"
        >
            <source src="files/Tyla%20-%20%22Everything%20Goes%20With%20Blue%22%20(from%20the%20Smurfs%20Soundtrack)%20(Lyric%20Video)_2.mp4" type="video/mp4">
        </video>
    </div>

    <div class="overlay"></div>
    <canvas id="particle-canvas"></canvas>
    <div class="neon-frame"></div>
    <div class="confetti-layer" id="confetti-layer"></div>

    <!-- TV News Ticker -->
    <div class="ticker-wrap">
        <div class="ticker-accent"></div>
        <div class="ticker-bar">
            <div class="ticker-label">
                <div class="live-dot"></div>
                FLASH
            </div>
            <div class="ticker-track">
                <span class="ticker-text">
                    ðŸŽ‰ FÃ©licitations ! Vous avez rÃ©solu le puzzle et rÃ©vÃ©lÃ© notre thÃ¨me du lundi.
                    <span class="separator">â—†</span>
                    ðŸ’™ Rappel : portez du <span class="highlight">BLEU</span> lundi â€” t-shirt, chemise, accessoire, tout compte !
                    <span class="separator">â—†</span>
                    ðŸŽ® On a hÃ¢te de vous revoir avec de nouveaux jeux de rÃ©vÃ©lation de thÃ¨mes !
                    <span class="separator">â—†</span>
                    ðŸ“¸ Envoyez-nous votre photo en bleu !
                    <span class="separator">â—†</span>
                </span>
            </div>
        </div>
    </div>

    <a href="index.html" class="replay-link"><span class="replay-icon">â†º</span> Rejouer</a>

    <script>
        // Auto-launch confetti on load
        window.addEventListener('load', launchConfetti);

        // Try autoplay with sound
        const video = document.getElementById('main-video');
        video.muted = false;
        video.play().catch(() => {
            // Browser blocked â€” play muted first, user gesture will unmute
            video.muted = true;
            video.play();
        });

        // First click anywhere unmutes
        document.addEventListener('click', () => {
            video.muted = false;
            video.play();
        }, { once: true });

        // Particles
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        for (let i = 0; i < 80; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 2.5 + 0.5,
                speedX: Math.random() * 1.5 - 0.75,
                speedY: Math.random() * 1.5 - 0.75,
                color: `rgba(0, ${Math.floor(Math.random() * 100 + 155)}, 255, ${Math.random() * 0.5 + 0.2})`
            });
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                p.x += p.speedX; p.y += p.speedY;
                if (p.x > canvas.width || p.x < 0) p.speedX *= -1;
                if (p.y > canvas.height || p.y < 0) p.speedY *= -1;
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });
            requestAnimationFrame(animateParticles);
        }
        animateParticles();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Confetti
        const layer = document.getElementById('confetti-layer');
        const colors = ['#FFD700', '#0066FF', '#00D4FF'];

        function launchConfetti() {
            for (let i = 0; i < 60; i++) {
                setTimeout(() => {
                    const c = document.createElement('div');
                    c.style.cssText = `
                        position:absolute;
                        left:${Math.random()*100}%;
                        top:-10px;
                        width:10px; height:10px;
                        background:${colors[Math.floor(Math.random()*3)]};
                        border-radius:${Math.random()>0.5?'50%':'0'};
                        animation:confetti-fall ${3+Math.random()*2}s linear forwards;
                        opacity:0.85;
                    `;
                    layer.appendChild(c);
                    setTimeout(() => c.remove(), 5500);
                }, i * 80);
            }
        }

    </script>
</body>
</html>
